import{m as h,_ as p,r as c,o as u,c as v,a as t,b as s,w as n,e as i,d as k,F as m,f as $,g as V}from"./index-ahOMgdsz.js";import{u as g}from"./toastStore-V2N45qjQ.js";import{t as L}from"./ToastMessage-7DToXYU9.js";var R={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"vuejs2024",BASE_URL:"/vite_week7_20240303/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:E}=R,M={data(){return{isLoading:!1}},methods:{...h(g,["pushMessage"]),logout(){this.isLoading=!0,this.$http.post(`${E}/logout`).then(a=>{this.isLoading=!1,this.pushMessage({style:"success",title:"登出成功",content:a.data.message}),this.$router.push("/")}).catch(a=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"登出失敗",content:a.response.data.message})})}}},T={class:"navbar navbar-expand-lg bg-dark navbar-dark fixed-top"},x={class:"container-fluid"},w=s("a",{class:"navbar-brand fw-bold",href:"#"},"後台頁面",-1),N=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),A={class:"collapse navbar-collapse",id:"navbarNav"},B={class:"navbar-nav"},C={class:"nav-item"},D={class:"nav-item"},I={class:"nav-item"},S={class:"nav-item"},U={class:"nav-item"},y={class:"navbar-nav ms-auto"},O={class:"nav-item"},P={class:"nav-item"};function j(a,o,f,b,r,l){const d=c("VLoading"),e=c("RouterLink");return u(),v(m,null,[t(d,{active:r.isLoading},null,8,["active"]),s("nav",T,[s("div",x,[w,N,s("div",A,[s("ul",B,[s("li",C,[t(e,{to:"/admin/products",class:"nav-link"},{default:n(()=>[i("產品")]),_:1})]),s("li",D,[t(e,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[i("訂單")]),_:1})]),s("li",I,[t(e,{to:"/admin/coupons",class:"nav-link"},{default:n(()=>[i("優惠卷")]),_:1})]),s("li",S,[t(e,{to:"/admin/article",class:"nav-link"},{default:n(()=>[i("貼文")]),_:1})]),s("li",U,[s("a",{href:"#",class:"nav-link",onClick:o[0]||(o[0]=k((..._)=>l.logout&&l.logout(..._),["prevent"]))},"登出")])]),s("ul",y,[s("li",O,[t(e,{to:"/user/articles",class:"nav-link"},{default:n(()=>[i("Blog")]),_:1})]),s("li",P,[t(e,{to:"/user/cart",class:"nav-link"},{default:n(()=>[i("購物車")]),_:1})])])])])])],64)}const F=p(M,[["render",j]]);var H={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"vuejs2024",BASE_URL:"/vite_week7_20240303/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:z}=H,q={data(){return{status:!1}},components:{toastMessage:L,NavbarComponent:F},methods:{...h(g,["pushMessage"]),checkAdmin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)vite_week7\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a,this.$http.post(`${z}/api/user/check`).then(o=>{this.pushMessage({style:"success",title:"登入成功",content:o.data.message}),this.status=!0}).catch(o=>{this.pushMessage({style:"danger",title:"驗證失敗",content:o.response.data.message}),this.$router.push("/")})}},mounted(){this.checkAdmin()}},G={class:"mt-5"};function J(a,o,f,b,r,l){const d=c("NavbarComponent"),e=c("toastMessage"),_=c("RouterView");return u(),v(m,null,[t(d),s("div",G,[t(e),r.status?(u(),$(_,{key:0})):V("",!0)])],64)}const X=p(q,[["render",J]]);export{X as default};
